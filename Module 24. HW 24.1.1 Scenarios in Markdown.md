# Сценарии
_Описание представлено в разметке [Markdown](https://ru.wikipedia.org/wiki/Markdown)_

---
## Сценарий создания заказа клиентом
Цель: создание заказа.
Роль: клиент.
Компонент: `клиентский сайт`.
Сценарий:
1. Просмотр каталога товаров;
2. Добавление необходимых товаров в корзину;
3. Указание адреса доставки;
4. Указание способа оплаты;
5. Нажатие кнопки отправки заказа;
6. Заказ создается в статусе «Новый».

## Сценарий создания заказа менеджером
Цель: создание заказа.
Роль: менеджер.
Компонент: `бэкофис`.
Сценарий:
1. Поступает звонок от клиента с целью создать заказ;
2. Создание заказа посредством бэкофиса:
    - Создание пустого заказа;
    - Добавление запрашиваемых товаров в заказ;
    - Указание адреса доставки;
    - Указание способа оплаты;
    - Нажатие кнопки подтверждения создания заказа.
3. Заказ создается в статусе «В работе».

## Сценарий обработки заказа менеджером
Цель: приём, проверка и передача заказа в работу.
Роль: менеджер.
Компонент: `бэкофис`.
Сценарий:
1. Заказ поступает в статусе «Новый»;
2. Проверка корректности контактных данных и установка связи с клиентом целью подтверждения заказа согласно должностной инструкции;
3. Если, связавшись выявлено, что состав заказа некорректен, то внести исправление и установить статус «В работе»;
4. Если получено подтверждение, что состав заказа корректен, то установить статус «В работе».

Исключения, ведущие к отмене заказа (установить статус «Отмена»):
- Если заказ содержит некорректный номер.
- Если количество попыток связаться исчерпано;
- Если, связавшись выявлено, что клиенту не требуется заказ;

## Сценарий обработки заказа поваром
Цель: приготовление и передача пиццы на доставку.
Роль: повар.
Компонент: `рабочее место повара` (в рамках настоящего ТЗ не разрабатывается).
Сценарий:
1. Заказ поступает в статусе «В работе»;
2. Необходимо проверить наличие ингредиентов и в случае недостатка уведомить отдел снабжения и ожидать поступления недостающих ингредиентов.
3. Если ингредиенты в наличии приступить к приготовлению пиццы.
4. Как пицца будет готова передать её на доставку и установить статус «Доставка».

## Сценарий доставки заказа курьером
Цель: доставка пиццы.
Роль: курьер.
Компонент: `приложение курьера`.
Сценарий:
1. Заказ поступает в статусе «Доставка».
2. Необходимо получить пиццу и отправиться по указанному адресу.
3. При необходимости связаться с клиентом по указанному номеру телефона.
4. Получить оплату от клиента одним из двух способов:
    - Оплата наличкой.
    - Оплата безналичным способом с использованием терминала.
5. В случае успешной доставки пиццы и получения оплаты передать пиццу клиенту и установить статус «Доставлен».

Исключения, ведущие к возврату заказа (установить статус «Возврат»):
- Если клиента дома нет, то вернуть пиццу.
- Если клиент дома, но не может оплатить заказ, то вернуть пиццу.
- В случае возврата пиццы установить статус «Возврат».

## Отмена заказа клиентом
Цель: отмена заказа по инициативе клиента.
Роль: курьер, менеджер.
Компонент: `бэкофис`.
Сценарий:
1. Менеджер получает уведомление от клиента об отмене заказа.
2. Если пицца не передана курьеру, то работы по заказу останавливаются; для заказа устанавливается статус «Отменен».
3. Если пицца передана курьеру, то он должен её вернуть; для заказа устанавливается статус «Возврат».
